#  自定义视频采集

## <a name='1'></a>1、简介

自定义视频采集的功能指的是由开发者自定义向 LinkV SDK 提供视频输入源输入视频数据，并由 LinkV SDK 进行编码推流的功能。

当用户开启自定义视频采集的功能后，本地摄像头采集预览会无效。

## <a name='2'></a>2、说明

#### 采集本地摄像头数据

* 采集本地摄像头数据，拉流端看到的是摄像头采集的数据。

#### 自定义视频采集

* 自定义视频采集，拉流端看到的是推流端任意设置的推流的本地视频数据

## <a name='3'></a>3、业务使用步骤

（1）打开外置视频采集功能

（2）登录房间并推流

（3）对外置视频进行解码

（4）调用发送发送外置视频数据

## <a name='4'></a>4、相关 API

### 4.1 打开和关闭外置视频采集

开启外置输入时，本地摄像头预览会失效，请开发者自行实行外置输入的视频预览功能

```objc
// 打开和关闭外置视频采集功能，该参数打开会自动将 SDK 内置摄像头采集功能禁用，由用户向 SDK 输入视频 数据。请在加入房间之前设置（注：开启外置输入时本地预览会失效，请开发者自行实行外置输入的视频预览功能）
// @param enable true: 打卡，false: 关闭
// @discussion 调用完成之后可以调用 sendVideoFrame 进行视频数据的发送
[[LVRTCEngine sharedInstance] enableExternalVideoInput:true];
```

### 4.2 发送外部采集视频数据 

调用此方法，发送解码后的外置视频数据。

```objc
// 外部采集的视频数据
// @param sampleBuffer 视频数据（必须是解码的视频数据）
// @see startCapture
- (void)sendVideoFrame:(CMSampleBufferRef)sampleBuffer;
```

